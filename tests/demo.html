<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Roadmap Manager - Interactive Demo</title>

    <!-- Enhanced CSS Components -->
    <link rel="stylesheet" href="../css/enhanced-complete.css">

    <style>
        /* Demo-specific styles */
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .demo-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .demo-header {
            text-align: center;
            color: white;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease-out;
        }

        .demo-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        .demo-header p {
            font-size: 1.25rem;
            opacity: 0.9;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glow {
            from { text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); }
            to { text-shadow: 0 4px 30px rgba(255, 255, 255, 0.5); }
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .demo-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease-out backwards;
        }

        .demo-card:nth-child(1) { animation-delay: 0.1s; }
        .demo-card:nth-child(2) { animation-delay: 0.2s; }
        .demo-card:nth-child(3) { animation-delay: 0.3s; }
        .demo-card:nth-child(4) { animation-delay: 0.4s; }
        .demo-card:nth-child(5) { animation-delay: 0.5s; }
        .demo-card:nth-child(6) { animation-delay: 0.6s; }

        .demo-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .demo-card h3 {
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            font-size: 1.25rem;
            font-weight: 600;
        }

        .demo-card p {
            color: var(--text-secondary);
            margin-bottom: var(--space-4);
            line-height: 1.6;
        }

        .demo-controls {
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
            margin-bottom: var(--space-4);
        }

        .demo-result {
            padding: var(--space-3);
            border-radius: var(--radius-lg);
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            background: var(--surface-secondary);
            border: 1px solid var(--border-light);
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }

        .demo-result.success {
            background: var(--success-bg);
            border-color: var(--success-border);
            color: var(--success-text);
        }

        .demo-result.error {
            background: var(--error-bg);
            border-color: var(--error-border);
            color: var(--error-text);
        }

        .test-summary {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            margin-top: 3rem;
            animation: fadeInUp 0.8s ease-out 0.7s backwards;
        }

        .test-summary h2 {
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            font-size: 1.5rem;
        }

        .test-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-4);
        }

        .stat-item {
            text-align: center;
            padding: var(--space-3);
            background: var(--surface-secondary);
            border-radius: var(--radius-lg);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: var(--space-1);
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <header class="demo-header">
            <h1>üöÄ Platform Roadmap Manager</h1>
            <p>Interactive Demo - Enhanced Interface Features</p>
        </header>

        <div class="demo-grid">
            <!-- Interface Features Demo -->
            <div class="demo-card">
                <h3>‚ú® Interface Features</h3>
                <p>Test contemporary design elements, animations, and micro-interactions.</p>
                <div class="demo-controls">
                    <button class="enhanced-button primary" onclick="testInterfaceFeatures()">Run Interface Test</button>
                    <button class="enhanced-button secondary" onclick="toggleAnimations()">Toggle Animations</button>
                </div>
                <div id="interface-result" class="demo-result"></div>
            </div>

            <!-- Keyboard Navigation Demo -->
            <div class="demo-card">
                <h3>‚å®Ô∏è Keyboard Navigation</h3>
                <p>Test comprehensive keyboard shortcuts and navigation.</p>
                <div class="demo-controls">
                    <button class="enhanced-button primary" onclick="testKeyboardNav()">Test Keyboard Nav</button>
                    <button class="enhanced-button secondary" onclick="showShortcuts()">Show Shortcuts (?)</button>
                </div>
                <div id="keyboard-result" class="demo-result"></div>
            </div>

            <!-- Responsive Design Demo -->
            <div class="demo-card">
                <h3>üì± Responsive Design</h3>
                <p>Test responsive behavior across different screen sizes.</p>
                <div class="demo-controls">
                    <button class="enhanced-button primary" onclick="testResponsive()">Test Responsive</button>
                    <button class="enhanced-button secondary" onclick="simulateMobile()">Simulate Mobile</button>
                </div>
                <div id="responsive-result" class="demo-result"></div>
            </div>

            <!-- Accessibility Demo -->
            <div class="demo-card">
                <h3>‚ôø Accessibility</h3>
                <p>Test WCAG 2.1 AA compliance and screen reader support.</p>
                <div class="demo-controls">
                    <button class="enhanced-button primary" onclick="testAccessibility()">Test Accessibility</button>
                    <button class="enhanced-button secondary" onclick="toggleHighContrast()">High Contrast</button>
                </div>
                <div id="accessibility-result" class="demo-result"></div>
            </div>

            <!-- State Management Demo -->
            <div class="demo-card">
                <h3>üîÑ State Management</h3>
                <p>Test Redux-like state management and time-travel debugging.</p>
                <div class="demo-controls">
                    <button class="enhanced-button primary" onclick="testStateManagement()">Test State</button>
                    <button class="enhanced-button secondary" onclick="showStateDebug()">State Debug</button>
                </div>
                <div id="state-result" class="demo-result"></div>
            </div>

            <!-- Navigation Demo -->
            <div class="demo-card">
                <h3>üß≠ Navigation System</h3>
                <p>Test advanced navigation and view transitions.</p>
                <div class="demo-controls">
                    <button class="enhanced-button primary" onclick="testNavigation()">Test Navigation</button>
                    <button class="enhanced-button secondary" onclick="simulateRouteChange()">Route Change</button>
                </div>
                <div id="navigation-result" class="demo-result"></div>
            </div>
        </div>

        <div class="test-summary">
            <h2>üìä Test Results Summary</h2>
            <div class="test-stats">
                <div class="stat-item">
                    <div class="stat-number" id="tests-passed">0</div>
                    <div class="stat-label">Tests Passed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="tests-failed">0</div>
                    <div class="stat-label">Tests Failed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="tests-total">0</div>
                    <div class="stat-label">Total Tests</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="success-rate">0%</div>
                    <div class="stat-label">Success Rate</div>
                </div>
            </div>
            <div id="overall-result" class="demo-result"></div>
        </div>
    </div>

    <!-- JavaScript for Demo Functionality -->
    <script>
        // Demo state
        const demoState = {
            testsRun: 0,
            testsPassed: 0,
            testsFailed: 0,
            animationsEnabled: true,
            highContrastEnabled: false
        };

        // Utility functions
        function updateResult(elementId, content, isSuccess = null) {
            const element = document.getElementById(elementId);
            element.textContent = content;
            element.className = 'demo-result';

            if (isSuccess === true) {
                element.classList.add('success');
            } else if (isSuccess === false) {
                element.classList.add('error');
            }
        }

        function updateStats() {
            document.getElementById('tests-passed').textContent = demoState.testsPassed;
            document.getElementById('tests-failed').textContent = demoState.testsFailed;
            document.getElementById('tests-total').textContent = demoState.testsRun;

            const rate = demoState.testsRun > 0 ? Math.round((demoState.testsPassed / demoState.testsRun) * 100) : 0;
            document.getElementById('success-rate').textContent = `${rate}%`;

            const overallResult = document.getElementById('overall-result');
            if (demoState.testsFailed === 0 && demoState.testsRun > 0) {
                overallResult.textContent = 'üéâ All demo tests passed successfully!';
                overallResult.className = 'demo-result success';
            } else if (demoState.testsRun > 0) {
                overallResult.textContent = `‚ö†Ô∏è ${demoState.testsFailed} test(s) failed. Check individual results above.`;
                overallResult.className = 'demo-result error';
            }
        }

        function runTest(testFunction, resultElementId) {
            demoState.testsRun++;
            try {
                const result = testFunction();
                if (result && result.success !== false) {
                    demoState.testsPassed++;
                    return true;
                } else {
                    demoState.testsFailed++;
                    return false;
                }
            } catch (error) {
                demoState.testsFailed++;
                updateResult(resultElementId, `Error: ${error.message}`, false);
                return false;
            } finally {
                updateStats();
            }
        }

        // Test functions
        function testInterfaceFeatures() {
            const results = [];

            // Test CSS variables
            const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--primary').trim();
            results.push(`Primary color: ${primaryColor}`);

            // Test enhanced classes
            const enhancedButtons = document.querySelectorAll('.enhanced-button');
            results.push(`Enhanced buttons found: ${enhancedButtons.length}`);

            // Test animations
            const hasAnimations = document.styleSheets.some(sheet => {
                try {
                    return Array.from(sheet.cssRules).some(rule =>
                        rule.cssText && rule.cssText.includes('animation')
                    );
                } catch (e) {
                    return false;
                }
            });
            results.push(`Animations detected: ${hasAnimations ? 'Yes' : 'No'}`);

            const resultText = results.join('\n');
            updateResult('interface-result', resultText, true);
            return { success: true };
        }

        function testKeyboardNav() {
            const results = [];

            // Test focusable elements
            const focusable = document.querySelectorAll('button, [tabindex]:not([tabindex="-1"])');
            results.push(`Focusable elements: ${focusable.length}`);

            // Test keyboard event handling
            let keydownHandled = false;
            const handleKeydown = (e) => {
                if (e.key === 'Escape' || e.key === '?') {
                    keydownHandled = true;
                    document.removeEventListener('keydown', handleKeydown);
                }
            };
            document.addEventListener('keydown', handleKeydown);

            // Simulate key press
            const event = new KeyboardEvent('keydown', { key: '?' });
            document.dispatchEvent(event);

            setTimeout(() => {
                results.push(`Keyboard events handled: ${keydownHandled ? 'Yes' : 'No'}`);
                const resultText = results.join('\n');
                updateResult('keyboard-result', resultText, keydownHandled);
            }, 100);

            return { success: true };
        }

        function testResponsive() {
            const results = [];

            // Test viewport width
            const width = window.innerWidth;
            results.push(`Viewport width: ${width}px`);

            // Test responsive classes
            const hasResponsive = document.querySelectorAll('[class*="mobile"], [class*="tablet"], [class*="desktop"]').length > 0;
            results.push(`Responsive classes: ${hasResponsive ? 'Present' : 'Not found'}`);

            // Test flexbox/grid layouts
            const hasFlex = document.querySelectorAll('display: flex, display: grid').length > 0;
            results.push(`Modern layouts: ${hasFlex ? 'Yes' : 'No'}`);

            const resultText = results.join('\n');
            updateResult('responsive-result', resultText, true);
            return { success: true };
        }

        function testAccessibility() {
            const results = [];

            // Test semantic HTML
            const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
            results.push(`Semantic headings: ${headings.length}`);

            // Test ARIA labels
            const ariaElements = document.querySelectorAll('[aria-label], [aria-describedby]');
            results.push(`ARIA attributes: ${ariaElements.length}`);

            // Test alt text
            const images = document.querySelectorAll('img');
            const imagesWithAlt = document.querySelectorAll('img[alt]');
            results.push(`Images with alt text: ${imagesWithAlt.length}/${images.length}`);

            // Test color contrast (basic check)
            const textColor = getComputedStyle(document.body).color;
            const bgColor = getComputedStyle(document.body).backgroundColor;
            results.push(`Text contrast: ${textColor !== bgColor ? 'Good' : 'Check'}`);

            const resultText = results.join('\n');
            updateResult('accessibility-result', resultText, true);
            return { success: true };
        }

        function testStateManagement() {
            const results = [];

            // Test if global state objects exist
            const hasStateIntegration = typeof window.stateIntegration !== 'undefined';
            results.push(`State integration: ${hasStateIntegration ? 'Available' : 'Not found'}`);

            const hasNavigation = typeof window.navigationIntegration !== 'undefined';
            results.push(`Navigation integration: ${hasNavigation ? 'Available' : 'Not found'}`);

            const hasInteractions = typeof window.interactionIntegration !== 'undefined';
            results.push(`Interaction integration: ${hasInteractions ? 'Available' : 'Not found'}`);

            const success = hasStateIntegration || hasNavigation || hasInteractions;
            const resultText = results.join('\n');
            updateResult('state-result', resultText, success);
            return { success };
        }

        function testNavigation() {
            const results = [];

            // Test navigation elements
            const navElements = document.querySelectorAll('nav, [role="navigation"]');
            results.push(`Navigation elements: ${navElements.length}`);

            // Test routing capability (basic)
            const hasHistory = typeof history !== 'undefined';
            results.push(`Browser history API: ${hasHistory ? 'Available' : 'Not found'}`);

            // Test view transitions
            const hasTransitions = document.querySelectorAll('[class*="transition"], [class*="view"]').length > 0;
            results.push(`View transitions: ${hasTransitions ? 'Present' : 'Not found'}`);

            const resultText = results.join('\n');
            updateResult('navigation-result', resultText, true);
            return { success: true };
        }

        // Control functions
        function toggleAnimations() {
            demoState.animationsEnabled = !demoState.animationsEnabled;
            const root = document.documentElement;

            if (demoState.animationsEnabled) {
                root.style.setProperty('--animation-duration', '0.3s');
                this.textContent = 'Disable Animations';
            } else {
                root.style.setProperty('--animation-duration', '0.01ms');
                this.textContent = 'Enable Animations';
            }
        }

        function showShortcuts() {
            // Simulate pressing the ? key
            const event = new KeyboardEvent('keydown', { key: '?' });
            document.dispatchEvent(event);
        }

        function simulateMobile() {
            // Simulate mobile viewport
            const viewport = document.querySelector('meta[name="viewport"]');
            if (viewport) {
                viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
            }

            // Add mobile class for testing
            document.body.classList.add('mobile-simulated');
            updateResult('responsive-result', 'Mobile simulation activated\nRefresh page to reset', true);
        }

        function toggleHighContrast() {
            demoState.highContrastEnabled = !demoState.highContrastEnabled;
            const root = document.documentElement;

            if (demoState.highContrastEnabled) {
                root.style.setProperty('--text-primary', '#000000');
                root.style.setProperty('--surface', '#ffffff');
                root.style.setProperty('--border', '#000000');
            } else {
                // Reset to defaults
                root.style.removeProperty('--text-primary');
                root.style.removeProperty('--surface');
                root.style.removeProperty('--border');
            }
        }

        function simulateRouteChange() {
            // Simulate a route change
            const currentPath = window.location.pathname;
            const newPath = currentPath + '#demo-route-changed';

            // Update URL without page reload
            window.history.pushState({}, '', newPath);

            updateResult('navigation-result', `Route changed to: ${newPath}`, true);
        }

        function showStateDebug() {
            let debugInfo = 'State Debug Info:\n\n';

            if (window.stateIntegration) {
                debugInfo += '‚úÖ State Integration Available\n';
            } else {
                debugInfo += '‚ùå State Integration Not Found\n';
            }

            if (window.navigationIntegration) {
                debugInfo += '‚úÖ Navigation Integration Available\n';
            } else {
                debugInfo += '‚ùå Navigation Integration Not Found\n';
            }

            if (window.interactionIntegration) {
                debugInfo += '‚úÖ Interaction Integration Available\n';
            } else {
                debugInfo += '‚ùå Interaction Integration Not Found\n';
            }

            updateResult('state-result', debugInfo, true);
        }

        // Initialize demo
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Interactive Demo initialized');

            // Set up keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === '?') {
                    e.preventDefault();
                    // In a real app, this would show the keyboard shortcuts overlay
                    alert('Keyboard Shortcuts:\n‚Ä¢ Tab/Shift+Tab: Navigate\n‚Ä¢ Enter: Activate\n‚Ä¢ Esc: Close\n‚Ä¢ ?: Show this help');
                }
            });

            // Run initial tests
            setTimeout(() => {
                runTest(testInterfaceFeatures, 'interface-result');
                runTest(testResponsive, 'responsive-result');
                runTest(testAccessibility, 'accessibility-result');
            }, 500);
        });
    </script>
</body>
</html>
